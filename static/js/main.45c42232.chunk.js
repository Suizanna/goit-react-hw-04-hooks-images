(this["webpackJsonpgoit-react-hw-04-hooks-images-02"]=this["webpackJsonpgoit-react-hw-04-hooks-images-02"]||[]).push([[0],{13:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2xi7Q","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image__3ThhJ"}},14:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2SWB8",Modal:"Modal_Modal__2pnGT"}},24:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__v0Fwr"}},25:function(e,t,a){e.exports={Button:"Button_Button__89Trg"}},27:function(e,t,a){e.exports={Spinner:"Loader_Spinner__keT9Y"}},33:function(e,t,a){},35:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(9),o=a.n(c),s=(a(33),a(15)),l=a(7),u=a.n(l),i=a(12),m=a(4),b=(a(35),a(8)),h=a.n(b),j=a(1),d=function(e){var t=e.onSetQuery,a=e.query,r=e.onSubmit;return Object(j.jsx)("header",{className:h.a.Searchbar,children:Object(j.jsxs)("form",{onSubmit:r,className:h.a.SearchForm,children:[Object(j.jsx)("button",{type:"submit",className:h.a.SearchForm_button,children:Object(j.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(j.jsx)("input",{onInput:t,className:h.a.SearchForm_input,type:"text",value:a,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},p=a(13),_=a.n(p);var f=function(e){var t=e.url,a=e.alt,r=e.modalUrl,n=e.showModal;return Object(j.jsx)("li",{className:_.a.ImageGalleryItem,children:Object(j.jsx)("img",{onClick:function(){return n(r)},src:t,alt:a,className:_.a.ImageGalleryItem_image})})},g=a(24),O=a.n(g),x=function(e){var t=e.images,a=e.showModal;return console.log(t),Object(j.jsx)("ul",{className:O.a.ImageGallery,children:t.map((function(e){var t=e.id,r=e.webformatURL,n=e.largeImageURL,c=e.tags;return Object(j.jsx)(f,{modalUrl:n,url:r,showModal:a,alt:c},t)}))})},v=a(25),S=a.n(v),y=function(e){var t=e.onLoadMore;return Object(j.jsx)("button",{className:S.a.Button,onClick:t,type:"button",children:"Load more"})},I=a(14),w=a.n(I),k=function(e){var t=e.modalImg,a=e.closeModal;return Object(j.jsx)("div",{className:w.a.Overlay,onClick:a,children:Object(j.jsx)("div",{className:w.a.Modal,children:Object(j.jsx)("img",{src:t,alt:""})})})},F=a(26),G=a.n(F),M=(a(57),a(27)),N=a.n(M),B=function(){return Object(j.jsx)("div",{className:N.a.Spinner,children:Object(j.jsx)(G.a,{type:"Grid",color:"#00BFFF",height:80,width:80})})},L=a(6),E=(a(58),a(28)),T=a.n(E);var C=function(e,t){return T()({method:"GET",url:"https://pixabay.com/api/?key=&key=15900106-2c235e732bb321ca7ec900d93&q=".concat(e,"&page=").concat(t,"&per_page=12")})};var Q=function(){var e=Object(r.useState)(""),t=Object(m.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(1),o=Object(m.a)(c,2),l=o[0],b=o[1],h=Object(r.useState)([]),p=Object(m.a)(h,2),_=p[0],f=p[1],g=Object(r.useState)(""),O=Object(m.a)(g,2),v=O[0],S=O[1],I=Object(r.useState)(!1),w=Object(m.a)(I,2),F=w[0],G=w[1],M=function(e){"Escape"===e.key&&S("")};Object(r.useEffect)((function(){v?window.addEventListener("keyup",M):window.removeEventListener("keyup",M)}),[v]);var N=function(){var e=Object(i.a)(u.a.mark((function e(t){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),G(!0),b(1),""!==a.trim()){e.next=8;break}return G(!1),e.abrupt("return",L.b.error("Please enter something!"));case 8:return n(""),G(!1),e.prev=10,e.next=13,C(a,1);case 13:if(r=e.sent,c=r.data.hits,G(!1),f(c),b((function(e){return e+1})),!(c.length<1)){e.next=21;break}return n(""),e.abrupt("return",L.b.warning("Your search - ".concat(a," - did not match any images")));case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(10),console.log(e.t0.message);case 26:case"end":return e.stop()}}),e,null,[[10,23]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(i.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(!0),e.prev=1,e.next=4,C(a,l);case 4:t=e.sent,r=t.data.hits,f((function(e){return[].concat(Object(s.a)(e),Object(s.a)(r))})),b((function(e){return e+1})),G(!1),window.scrollTo({top:document.documentElement.scrollHeight,left:0,behavior:"smooth"}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(d,{query:a,onSetQuery:function(e){n(e.target.value)},onSubmit:N}),Object(j.jsx)(x,{showModal:function(e){S(e)},images:_}),_.length>=12&&Object(j.jsx)(y,{onLoadMore:E}),v&&Object(j.jsx)(k,{closeModal:function(e){"IMG"!==e.target.nodeName&&S("")},modalImg:v}),F&&Object(j.jsx)(B,{}),Object(j.jsx)(L.a,{autoClose:3e3})]})};o.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(Q,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={Searchbar:"SearchBar_Searchbar__3i0vQ",SearchForm:"SearchBar_SearchForm__Q86Ma",SearchForm_button:"SearchBar_SearchForm_button__XJGso",SearchForm_button_label:"SearchBar_SearchForm_button_label__2tA-X",SearchForm_input:"SearchBar_SearchForm_input__28pla"}}},[[77,1,2]]]);
//# sourceMappingURL=main.45c42232.chunk.js.map