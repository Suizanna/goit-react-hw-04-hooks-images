{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Loader/Loader.module.css","Components/Searchbar/SearchBar.module.css","Components/Searchbar/Searchbar.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Button/Button.jsx","Components/Modal/Modal.jsx","Components/Loader/Loader.jsx","services/fetch.js","App.js","index.js"],"names":["module","exports","Searchbar","query","onSetQuery","onSubmit","className","s","SearchForm","type","SearchForm_button","SearchForm_button_label","onChange","SearchForm_input","value","autoComplete","autoFocus","placeholder","ImageGalleryItem","alt","url","modalUrl","showModal","ImageGalleryItem_image","onClick","src","ImageGallery","images","console","log","map","id","webformatURL","largeImageURL","tags","Button","onLoadMore","Modal","modalImg","closeModal","Overlay","Spinner","color","height","width","getPictures","page","axios","method","App","useState","setQuery","setPage","setImages","modal","setModal","loader","setLoader","closeModalByEsc","e","key","useEffect","window","addEventListener","removeEventListener","handleGetImages","a","preventDefault","trim","toast","error","hits","data","length","warning","prev","message","handleLoadMore","scrollTo","top","document","documentElement","scrollHeight","left","behavior","target","nodeName","Loader","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1d8fb14f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2xi7Q\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__3ThhJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2SWB8\",\"Modal\":\"Modal_Modal__2pnGT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__v0Fwr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__89Trg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Spinner\":\"Loader_Spinner__keT9Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__3i0vQ\",\"SearchForm\":\"SearchBar_SearchForm__Q86Ma\",\"SearchForm_button\":\"SearchBar_SearchForm_button__XJGso\",\"SearchForm_button_label\":\"SearchBar_SearchForm_button_label__2tA-X\",\"SearchForm_input\":\"SearchBar_SearchForm_input__28pla\"};","import s from \"./SearchBar.module.css\";\r\n\r\nconst Searchbar = ({ query, onSetQuery, onSubmit }) => {\r\n  \r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form onSubmit={onSubmit}\r\n        className={s.SearchForm}>\r\n      <button type=\"submit\" className={s.SearchForm_button}>\r\n          <span className={s.SearchForm_button_label}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          onChange={onSetQuery}\r\n          className={s.SearchForm_input} \r\n          type=\"text\"\r\n          value={query}\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Searchbar;\r\n","import s from \"./ImageGalleryItem.module.css\";\r\n\r\nfunction ImageGalleryItem({ alt, url, modalUrl, showModal }) {\r\n\r\n  return (\r\n    <li  className={s.ImageGalleryItem} \r\n    >\r\n      <img className={s.ImageGalleryItem_image}\r\n      onClick={() => showModal(modalUrl)}\r\n        // src={src}\r\n        src={url}\r\n        alt={alt}   \r\n      />  \r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images, showModal }) => {\r\n  console.log(images);\r\n  return (\r\n    <ul  className={s.ImageGallery}>\r\n      {images.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n        <ImageGalleryItem\r\n          key={id}      \r\n          modalUrl={largeImageURL} \r\n          // src={webformatURL}\r\n          url={webformatURL}\r\n          alt={tags}\r\n          showModal={showModal}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import s from \"./Button.module.css\";\r\n\r\nconst Button = ({ onLoadMore }) => {\r\n  return (\r\n    <button\r\n      className={s.Button}\r\n      onClick={onLoadMore}\r\n      type=\"button\">\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import s from \"./Modal.module.css\";\r\n  \r\n\r\nconst Modal = ({ modalImg, closeModal }) => {\r\n\r\n  return (\r\n    <div className={s.Overlay}  onClick={closeModal} > \r\n      <div className={s.Modal}>\r\n        <img src={modalImg} alt=\"\" />\r\n      </div>\r\n    </div>\r\n    \r\n  );\r\n};\r\n\r\nexport default Modal;\r\n\r\n","import Loader from 'react-loader-spinner'\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport s from './Loader.module.css';\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className={s.Spinner}>\r\n       <Loader\r\n         type=\"Grid\" color=\"#00BFFF\" height={80} width={80} \r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import axios from \"axios\";\n// дублирует катинки id\nfunction getPictures(query, page) {\n  return axios({\n    method: \"GET\",\n    url: `https://pixabay.com/api/?key=&key=15900106-2c235e732bb321ca7ec900d93&q=${query}&page=${page}&per_page=12`,\n  });\n}\n\n// 2вариант\n// const BASE_URL = \"https://pixabay.com/api/\";\n// const API_KEY = \"21764210-8d882ab68fe5176a0369b7247\";\n// //обертка вместо axios,что ошибку 404 обрабатывала\n// // работает без .data в App.js => как setImages(images.hits);\n// async function fetchWithErrorHandling(url = '', config = {}) {\n//   const response = await fetch(url, config);\n//   return response.ok\n//     ? await response.json()\n//     : Promise.reject(new Error('Not found'));\n// }\n// export function getPictures(query, page) {\n//   return fetchWithErrorHandling(\n//     `${BASE_URL}?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=${API_KEY}`,\n//   );\n// }\nexport default getPictures;\n\n// //работает без.data.hits в App\n// axios.defaults.baseURL = BASE_URL;\n\n// export class Api {\n//   static async getPictures(searchQuery, page) {\n//     const params = `?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12\n//         `;\n//     const { data } = await axios.get(params);\n\n//     return data.hits;\n//   }\n// }\n","import \"./App.css\";\nimport { useState, useEffect } from \"react\";\nimport Searchbar from \"./Components/Searchbar/Searchbar\";\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\";\nimport Button from \"./Components/Button/Button\";\nimport Modal from \"./Components/Modal/Modal\";\nimport Loader from \"./Components/Loader/Loader\";\nimport { ToastContainer } from \"react-toastify\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n// import { Api } from \"./services/fetch\";\nimport getPictures from \"./services/fetch\";\n\nfunction App() {\n  const [query, setQuery] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [images, setImages] = useState([]);\n  const [modal, setModal] = useState(\"\");\n  const [loader, setLoader] = useState(false);\n\n  const closeModalByEsc = (e) => {\n    if (e.key === \"Escape\") {\n      setModal(\"\");\n    }\n  };\n\n  useEffect(() => {\n    if (modal) {\n      window.addEventListener(\"keyup\", closeModalByEsc);\n    } else {\n      window.removeEventListener(\"keyup\", closeModalByEsc);\n    }\n  }, [modal]);\n\n  //изменения в инпуте\n  const handleSetQuery = (e) => {\n    setQuery(e.target.value);\n  };\n\n  const handleGetImages = async (e) => {\n    e.preventDefault();\n    setPage(1);\n    setLoader(true);\n\n    if (query.trim() === \"\") {\n      setLoader(false);\n      setQuery(\"\");\n      return toast.error(\"Please enter something!\");\n    } else {\n      setLoader(false);\n\n      try {\n        const {\n          data: { hits },\n        } = await getPictures(query, 1);\n\n        setLoader(false);\n        setImages(hits);\n\n        if (hits.length < 1) {\n          setQuery(\"\");\n          return toast.warning(\n            `Your search - ${query} - did not match any images`\n          );\n        }\n\n        setPage((prev) => prev + 1);\n      } catch (error) {\n        console.log(error.message);\n      }\n    }\n  };\n\n  //Button\n  const handleLoadMore = async () => {\n    try {\n      const {\n        data: { hits },\n      } = await getPictures(query, page);\n      setImages((prev) => [...prev, ...hits]);\n      setPage((prev) => prev + 1);\n\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        left: 0,\n        behavior: \"smooth\",\n      });\n    } catch (error) {\n      console.log(error.message);\n      toast.error(\"Enter a valid search query\");\n    }\n  };\n\n  // Modal\n  const handleShowModal = (url) => {\n    setModal(url);\n  };\n\n  const handleCloseModal = (e) => {\n    if (e.target.nodeName === \"IMG\") {\n      return;\n    }\n    setModal(\"\");\n  };\n\n  return (\n    <div className=\"App\">\n      <Searchbar\n        query={query}\n        onSetQuery={handleSetQuery}\n        onSubmit={handleGetImages}\n      />\n\n      <ImageGallery showModal={handleShowModal} images={images} />\n\n      {images.length >= 12 && <Button onLoadMore={handleLoadMore} />}\n      {modal && <Modal closeModal={handleCloseModal} modalImg={modal} />}\n      {loader && <Loader />}\n      <ToastContainer autoClose={3000} />\n    </div>\n  );\n}\n\nexport default App;\n\n// then catch\n// const handleGetImages = (e) => {\n//   e.preventDefault();\n//   setPage(1);\n\n//    Api.getPictures(query, 1)\n//     .then((images) => {\n//       console.log(images);\n//       setImages(images);\n//       setPage((prev) => prev + 1);\n//       return images;\n//     })\n//     .catch((error) => {\n//       console.log(error.message);\n//     });\n// };\n// const handleLoadMore = () => {\n//   setLoader(true);\n//   Api.getPictures(query, page)\n//     .then((images) => {\n//       console.log(images);\n//       setImages((prev) => [...prev, ...images]);\n//       setPage((prev) => prev + 1);\n//       setLoader(false);\n//       // return images;\n//       window.scrollTo({\n//         top: document.documentElement.scrollHeight,\n//         left: 0,\n//         behavior: \"smooth\",\n//       });\n//     })\n//     .catch((error) => {\n//       console.log(error.message);\n//     });\n// };\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}