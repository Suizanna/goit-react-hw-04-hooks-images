{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Loader/Loader.module.css","Components/Searchbar/Searchbar.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Button/Button.jsx","Components/Modal/Modal.jsx","Components/Loader/Loader.jsx","services/fetch.js","App.js","index.js","Components/Searchbar/SearchBar.module.css"],"names":["module","exports","Searchbar","onSetQuery","query","onSubmit","className","s","SearchForm","type","SearchForm_button","onInput","SearchForm_input","value","autoComplete","autoFocus","placeholder","ImageGalleryItem","url","alt","modalUrl","showModal","onClick","src","ImageGalleryItem_image","ImageGallery","images","console","log","map","id","webformatURL","largeImageURL","tags","Button","onLoadMore","Modal","modalImg","closeModal","Overlay","Spinner","color","height","width","getPictures","page","axios","method","App","useState","setQuery","setPage","setImages","modal","setModal","loader","setLoader","closeModalByEsc","e","key","useEffect","window","addEventListener","removeEventListener","handleGetImages","a","preventDefault","trim","toast","error","hits","data","prev","length","warning","message","handleLoadMore","scrollTo","top","document","documentElement","scrollHeight","left","behavior","target","nodeName","Loader","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.45c42232.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2xi7Q\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__3ThhJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2SWB8\",\"Modal\":\"Modal_Modal__2pnGT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__v0Fwr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__89Trg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Spinner\":\"Loader_Spinner__keT9Y\"};","import s from \"./SearchBar.module.css\";\r\n\r\nconst Searchbar = ({ onSetQuery, query, onSubmit }) => {\r\n  \r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form onSubmit={onSubmit}\r\n        className={s.SearchForm}>\r\n      <button type=\"submit\" className={s.SearchForm_button}>\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n\r\n        <input\r\n          onInput={onSetQuery}\r\n          className={s.SearchForm_input} \r\n          type=\"text\"\r\n          value={query}\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Searchbar;\r\n","import s from \"./ImageGalleryItem.module.css\";\r\n\r\nfunction ImageGalleryItem({ url, alt, modalUrl, showModal }) {\r\n  return (\r\n    <li  className={s.ImageGalleryItem}\r\n    >\r\n      <img\r\n        onClick={() => showModal(modalUrl)}\r\n        src={url}\r\n        alt={alt}\r\n        className={s.ImageGalleryItem_image}\r\n      />  \r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images, showModal }) => {\r\n  console.log(images);\r\n  return (\r\n    <ul  className={s.ImageGallery}>\r\n      {images.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n        <ImageGalleryItem\r\n          key={id}      \r\n          modalUrl={largeImageURL} \r\n          url={webformatURL}\r\n          showModal={showModal}\r\n          alt={tags}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import s from \"./Button.module.css\";\r\n\r\nconst Button = ({ onLoadMore }) => {\r\n  return (\r\n    <button\r\n      className={s.Button}\r\n      onClick={onLoadMore}\r\n      type=\"button\">\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import s from \"./Modal.module.css\";\r\n  \r\n\r\nconst Modal = ({ modalImg, closeModal }) => {\r\n\r\n  return (\r\n    <div className={s.Overlay}  onClick={closeModal} > \r\n      <div className={s.Modal}>\r\n        <img src={modalImg} alt=\"\" />\r\n      </div>\r\n    </div>\r\n    \r\n  );\r\n};\r\n\r\nexport default Modal;\r\n\r\n","import Loader from 'react-loader-spinner'\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport s from './Loader.module.css';\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className={s.Spinner}>\r\n       <Loader\r\n         type=\"Grid\" color=\"#00BFFF\" height={80} width={80} \r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import axios from \"axios\";\r\n//дублирует катинки id\r\nfunction getPictures(query, page) {\r\n  return axios({\r\n    method: \"GET\",\r\n    url: `https://pixabay.com/api/?key=&key=15900106-2c235e732bb321ca7ec900d93&q=${query}&page=${page}&per_page=12`,\r\n  });\r\n}\r\n// // 2вариант\r\n// const BASE_URL = \"https://pixabay.com/api/\";\r\n// const API_KEY = \"21764210-8d882ab68fe5176a0369b7247\";\r\n// //обертка вместо axios,что ошибку 404 обрабатывала\r\n// // работает без .data в App.js => как setImages(images.hits);\r\n// async function fetchWithErrorHandling(url = '', config = {}) {\r\n//   const response = await fetch(url, config);\r\n//   return response.ok\r\n//     ? await response.json()\r\n//     : Promise.reject(new Error('Not found'));\r\n// }\r\n// export function getPictures(query, page) {\r\n//   return fetchWithErrorHandling(\r\n//     `${BASE_URL}?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=${API_KEY}`,\r\n//   );\r\n// }\r\nexport default getPictures;\r\n\r\n// //работает без.data.hits в App \r\n// axios.defaults.baseURL = BASE_URL;\r\n\r\n// export class Api {\r\n//   static async getPictures(searchQuery, page) {\r\n//     const params = `?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12\r\n//         `;\r\n//     const { data } = await axios.get(params);\r\n\r\n//     return data.hits;\r\n//   }\r\n// }\r\n\r\n\r\n","import \"./App.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Searchbar from \"./Components/Searchbar/Searchbar\";\r\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\";\r\nimport Button from \"./Components/Button/Button\";\r\nimport Modal from \"./Components/Modal/Modal\";\r\nimport Loader from \"./Components/Loader/Loader\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n// import { Api } from \"./services/fetch\";\r\nimport getPictures from \"./services/fetch\";\r\n\r\nfunction App() {\r\n  const [query, setQuery] = useState(\"\");\r\n  const [page, setPage] = useState(1);\r\n  const [images, setImages] = useState([]);\r\n  const [modal, setModal] = useState(\"\");\r\n  const [loader, setLoader] = useState(false);\r\n\r\n  const closeModalByEsc = (e) => {\r\n    if (e.key === \"Escape\") {\r\n      setModal(\"\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (modal) {\r\n      window.addEventListener(\"keyup\", closeModalByEsc);\r\n    } else {\r\n      window.removeEventListener(\"keyup\", closeModalByEsc);\r\n    }\r\n  }, [modal]);\r\n\r\n  //изменения в инпуте\r\n  const handleSetQuery = (e) => {\r\n    setQuery(e.target.value);\r\n  };\r\n  // then catch \r\n  // const handleGetImages = (e) => {\r\n  //   e.preventDefault();\r\n  //   setPage(1);\r\n\r\n  //    Api.getPictures(query, 1)\r\n  //     .then((images) => {\r\n  //       console.log(images);\r\n  //       setImages(images);\r\n  //       setPage((prev) => prev + 1);\r\n  //       return images;\r\n  //     })\r\n  //     .catch((error) => {\r\n  //       console.log(error.message);\r\n  //     });\r\n  // };\r\n  // const handleLoadMore = () => {\r\n  //   setLoader(true);\r\n  //   Api.getPictures(query, page)\r\n  //     .then((images) => {\r\n  //       console.log(images);\r\n  //       setImages((prev) => [...prev, ...images]);\r\n  //       setPage((prev) => prev + 1);\r\n  //       setLoader(false);\r\n  //       // return images;\r\n  //       window.scrollTo({\r\n  //         top: document.documentElement.scrollHeight,\r\n  //         left: 0,\r\n  //         behavior: \"smooth\",\r\n  //       });\r\n  //     })\r\n  //     .catch((error) => {\r\n  //       console.log(error.message);\r\n  //     });\r\n  // };\r\n\r\n  // try catch\r\n  const handleGetImages = async (e) => {\r\n    e.preventDefault();\r\n    setLoader(true);\r\n    setPage(1);\r\n\r\n    if (query.trim() === \"\") {\r\n      setLoader(false);\r\n      return toast.error(\"Please enter something!\");\r\n    } else {\r\n      setQuery(\"\"); //очиста формы сразу после Submit\r\n      setLoader(false);\r\n      try {\r\n        const {\r\n          data: { hits },\r\n        } = await getPictures(query, 1);\r\n        setLoader(false);\r\n        setImages(hits);\r\n        setPage((prev) => prev + 1);\r\n\r\n        if (hits.length < 1) {\r\n          setQuery(\"\");\r\n          return toast.warning(\r\n            `Your search - ${query} - did not match any images`\r\n          );\r\n        }\r\n      } catch (error) {\r\n        console.log(error.message);\r\n      }\r\n    }\r\n  };\r\n  const handleLoadMore = async () => {\r\n    setLoader(true);\r\n    try {\r\n      const {\r\n        data: { hits },\r\n      } = await getPictures(query, page);\r\n      setImages((prev) => [...prev, ...hits]);\r\n      setPage((prev) => prev + 1);\r\n      setLoader(false);\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        left: 0,\r\n        behavior: \"smooth\",\r\n      });\r\n    } catch (error) {\r\n      console.log(error.message);\r\n      // toast.error(\"Enter a valid search query\");\r\n    }\r\n  };\r\n\r\n  const handleShowModal = (url) => {\r\n    setModal(url);\r\n  };\r\n\r\n  const handleCloseModal = (e) => {\r\n    if (e.target.nodeName === \"IMG\") {\r\n      return;\r\n    }\r\n    setModal(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Searchbar\r\n        query={query}\r\n        onSetQuery={handleSetQuery}\r\n        onSubmit={handleGetImages}\r\n      />\r\n\r\n      <ImageGallery showModal={handleShowModal} images={images} />\r\n\r\n      {images.length >= 12 && <Button onLoadMore={handleLoadMore} />}\r\n      {modal && <Modal closeModal={handleCloseModal} modalImg={modal} />}\r\n      {loader && <Loader />}\r\n      <ToastContainer autoClose={3000} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__3i0vQ\",\"SearchForm\":\"SearchBar_SearchForm__Q86Ma\",\"SearchForm_button\":\"SearchBar_SearchForm_button__XJGso\",\"SearchForm_button_label\":\"SearchBar_SearchForm_button_label__2tA-X\",\"SearchForm_input\":\"SearchBar_SearchForm_input__28pla\"};"],"sourceRoot":""}